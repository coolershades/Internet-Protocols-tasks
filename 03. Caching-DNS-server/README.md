# Кэширующий DNS-сервер
Решение Пахтусовой Екатерины, студентки мат-меха УрФУ, группы КН-203

## Запуск
Для демонстрации возможностей кода запустите файлы из консоли в следующем порядке: сначала файл сервера (server.py), а потом файл клиента (client.py).

## Использование
Клиент принимает запросы в формате `[тип] [адрес]`, где тип может быть одним из перечисленных: A, AAAA, NS, PTR (другие типы вопросов не обрабатываются), а адрес может быть либо доменным именем, либо IPv4-адресом, в зависимости от типа.

В ответ клиент получает читаемую человеческими глазами необходимую информацию, с указанием, из какой секции пакета был взят ответ.

Для того, чтобы выйти из программы, вместо запроса клиенту необходимо подать строку `exit`. Тогда соединение с сервером закроется.

## Особенности
Данный DNS-сервер по умолчанию выполняет рекурсивный запрос к DNS-серверу Google по адресу 8.8.8.8. При необходимости сервер верхнего уровня можно сменить, изменив IP-адрес в файле `config.json`. 

## Кэширование
Кэш сохраняется в файле `cache.json`. 

Вся полезная информация извлекается из пакетов и сохраняется с TTL и временем кэширования. Перед каждым обращением к кэшу неактуальная информация удаляется, и файл перезаписывается. 

При следующем запуске программы кэш будет восстановлен из соответствующего файла.

## DNS-пакеты
В данном решении также выполнена разборка и сборка байтовых DNS-пакетов в объекты, с которыми было бы удобно работать из кода. 

Все необходимое для этого написано в файле `DNSPacket.py`.